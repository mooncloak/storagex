//[storagex-keyvalue](../../../index.md)/[com.mooncloak.kodetools.storagex.keyvalue](../index.md)/[MutableKeyValueStorage](index.md)

# MutableKeyValueStorage

[common]\
interface [MutableKeyValueStorage](index.md)&lt;[Key](index.md) : [Any](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)&gt; : [KeyValueStorage](../-key-value-storage/index.md)&lt;[Key](index.md)&gt;

## Types

| Name | Summary |
|---|---|
| [Companion](-companion/index.md) | [common]<br>object [Companion](-companion/index.md) |
| [InputEntry](-input-entry/index.md) | [common]<br>interface [InputEntry](-input-entry/index.md)&lt;[Key](-input-entry/index.md) : [Any](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html), [Value](-input-entry/index.md)&gt; |
| [InputValue](-input-value/index.md) | [common]<br>interface [InputValue](-input-value/index.md)&lt;[Value](-input-value/index.md)&gt; |

## Properties

| Name | Summary |
|---|---|
| [format](../-key-value-storage/format.md) | [common]<br>abstract val [format](../-key-value-storage/format.md): SerialFormat<br>The SerialFormat that is used to serialize and deserialize the values for the underlying storage. |

## Functions

| Name | Summary |
|---|---|
| [changes](../-key-value-storage/changes.md) | [common]<br>open fun [changes](../-key-value-storage/changes.md)(key: [Key](index.md)): Flow&lt;[KeyValueStorage.StoredValue](../-key-value-storage/-stored-value/index.md)&lt;*&gt;?&gt;<br>Retrieves a Flow of value changes for the provided [key](../-key-value-storage/changes.md). Any time the value changes for the [key](../-key-value-storage/changes.md), the new value will be emitted on the returned Flow instance. |
| [changesOrNull](../changes-or-null.md) | [common]<br>fun &lt;[Key](../changes-or-null.md) : [Any](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)&gt; [KeyValueStorage](../-key-value-storage/index.md)&lt;[Key](../changes-or-null.md)&gt;.[changesOrNull](../changes-or-null.md)(key: [Key](../changes-or-null.md)): Flow&lt;[KeyValueStorage.StoredValue](../-key-value-storage/-stored-value/index.md)&lt;*&gt;?&gt;?<br>Retrieves a Flow of value changes for the provided [key](../changes-or-null.md). Any time the value changes for the [key](../changes-or-null.md), the new value will be emitted on the returned Flow instance. |
| [clear](clear.md) | [common]<br>abstract suspend fun [clear](clear.md)()<br>Clears all the stored data from this storage. |
| [close](../-key-value-storage/close.md) | [common]<br>open suspend fun [close](../-key-value-storage/close.md)()<br>Closes the connection to the underlying data structure and clears any system resources. |
| [containsKey](../-key-value-storage/contains-key.md) | [common]<br>open suspend fun [containsKey](../-key-value-storage/contains-key.md)(key: [Key](index.md)): [Boolean](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)<br>Returns `true` if the [KeyValueStorage](../-key-value-storage/index.md) contains the specified key, `false` otherwise. |
| [entries](../-key-value-storage/entries.md) | [common]<br>abstract suspend fun [entries](../-key-value-storage/entries.md)(): [Set](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html)&lt;[KeyValueStorage.Entry](../-key-value-storage/-entry/index.md)&lt;[Key](index.md), *&gt;&gt;<br>Returns a [Set](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html) of all [Entry](../-key-value-storage/-entry/index.md) items in this [KeyValueStorage](../-key-value-storage/index.md). |
| [get](../-key-value-storage/get.md) | [common]<br>open suspend fun &lt;[T](../-key-value-storage/get.md)&gt; [get](../-key-value-storage/get.md)(key: [Key](index.md), deserializer: DeserializationStrategy&lt;[T](../-key-value-storage/get.md)&gt;): [T](../-key-value-storage/get.md)<br>Retrieves the value for the provided [key](../-key-value-storage/get.md), using the provided [deserializer](../-key-value-storage/get.md) to convert the value from its internal representation to the model of type [T](../-key-value-storage/get.md), or throws [NoSuchElementException](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-no-such-element-exception/index.html) if there is no value for the provided [key](../-key-value-storage/get.md). |
| [get](../get.md) | [common]<br>inline suspend fun &lt;[Key](../get.md) : [Any](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html), [Value](../get.md)&gt; [KeyValueStorage](../-key-value-storage/index.md)&lt;[Key](../get.md)&gt;.[get](../get.md)(key: [Key](../get.md)): [Value](../get.md)<br>A convenience function for invoking the [KeyValueStorage.get](../-key-value-storage/get.md) function with a DeserializationStrategy obtained via the serializer function. |
| [getOrNull](../get-or-null.md) | [common]<br>inline suspend fun &lt;[Key](../get-or-null.md) : [Any](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html), [Value](../get-or-null.md)&gt; [KeyValueStorage](../-key-value-storage/index.md)&lt;[Key](../get-or-null.md)&gt;.[getOrNull](../get-or-null.md)(key: [Key](../get-or-null.md), deserializer: KSerializer&lt;[Value](../get-or-null.md)&gt; = this.format.serializersModule.serializer()): [Value](../get-or-null.md)?<br>Retrieves the value for the provided [key](../get-or-null.md), using the provided [deserializer](../get-or-null.md) to convert the value from its internal representation to the model of type [Value](../get-or-null.md), or `null` if there is no value for the provided [key](../get-or-null.md) or it has expired. |
| [getValue](../-key-value-storage/get-value.md) | [common]<br>abstract suspend fun [getValue](../-key-value-storage/get-value.md)(key: [Key](index.md)): [KeyValueStorage.StoredValue](../-key-value-storage/-stored-value/index.md)&lt;*&gt;<br>Retrieves the [StoredValue](../-key-value-storage/-stored-value/index.md) for the provided [key](../-key-value-storage/get-value.md), or throws [NoSuchElementException](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-no-such-element-exception/index.html) if there is no value for the provided [key](../-key-value-storage/get-value.md). |
| [getValueOrNull](../get-value-or-null.md) | [common]<br>suspend fun &lt;[Key](../get-value-or-null.md) : [Any](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)&gt; [KeyValueStorage](../-key-value-storage/index.md)&lt;[Key](../get-value-or-null.md)&gt;.[getValueOrNull](../get-value-or-null.md)(key: [Key](../get-value-or-null.md)): [KeyValueStorage.StoredValue](../-key-value-storage/-stored-value/index.md)&lt;*&gt;?<br>Retrieves the [StoredValue](../-key-value-storage/-stored-value/index.md) for the provided [key](../get-value-or-null.md), or `null` if there is no value for the provided [key](../get-value-or-null.md). |
| [isEmpty](../-key-value-storage/is-empty.md) | [common]<br>open suspend fun [isEmpty](../-key-value-storage/is-empty.md)(): [Boolean](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)<br>Returns `true` if the [KeyValueStorage](../-key-value-storage/index.md) is empty, `false` otherwise. |
| [isNotEmpty](../is-not-empty.md) | [common]<br>suspend fun &lt;[Key](../is-not-empty.md) : [Any](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)&gt; [KeyValueStorage](../-key-value-storage/index.md)&lt;[Key](../is-not-empty.md)&gt;.[isNotEmpty](../is-not-empty.md)(): [Boolean](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)<br>Returns `true` if the [KeyValueStorage](../-key-value-storage/index.md) is NOT empty, `false` otherwise. This is the inverse of the [KeyValueStorage.isEmpty](../-key-value-storage/is-empty.md) function, provided for convenience. |
| [keys](../-key-value-storage/keys.md) | [common]<br>open suspend fun [keys](../-key-value-storage/keys.md)(): [Set](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html)&lt;[Key](index.md)&gt;<br>Returns a [Set](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html) of all [Key](../-key-value-storage/index.md)s in this [KeyValueStorage](../-key-value-storage/index.md). |
| [put](put.md) | [common]<br>abstract suspend fun &lt;[Value](put.md) : [Any](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)&gt; [put](put.md)(key: [Key](index.md), serializer: SerializationStrategy&lt;[Value](put.md)&gt;, value: [Value](put.md)?): [KeyValueStorage.StoredValue](../-key-value-storage/-stored-value/index.md)&lt;*&gt;?<br>Sets the value for the provided [key](put.md) to be equal to the provided [value](put.md), using the provided [serializer](put.md) to convert the model of type [Value](put.md) to its internal representation. |
| [put](../put.md) | [common]<br>inline suspend fun &lt;[Key](../put.md) : [Any](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html), [Value](../put.md) : [Any](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)&gt; [MutableKeyValueStorage](index.md)&lt;[Key](../put.md)&gt;.[put](../put.md)(key: [Key](../put.md), value: [Value](../put.md)?): [KeyValueStorage.StoredValue](../-key-value-storage/-stored-value/index.md)&lt;*&gt;?<br>Sets the value for the provided [key](../put.md) to be equal to the provided [value](../put.md), using the provided serializer to convert the model of type [Value](../put.md) to its internal representation. This is a convenience function for invoking the [MutableKeyValueStorage.put](put.md) function with a SerializationStrategy obtained via the serializer function. |
| [putAll](put-all.md) | [common]<br>abstract suspend fun &lt;[Value](put-all.md)&gt; [putAll](put-all.md)(entries: [Collection](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-collection/index.html)&lt;[MutableKeyValueStorage.InputEntry](-input-entry/index.md)&lt;[Key](index.md), [Value](put-all.md)&gt;&gt;)<br>Puts all the provided [entries](put-all.md) into this [MutableKeyValueStorage](index.md). |
| [putAll](../put-all.md) | [common]<br>suspend fun &lt;[Key](../put-all.md) : [Any](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html), [Value](../put-all.md)&gt; [MutableKeyValueStorage](index.md)&lt;[Key](../put-all.md)&gt;.[putAll](../put-all.md)(vararg entries: [MutableKeyValueStorage.InputEntry](-input-entry/index.md)&lt;[Key](../put-all.md), [Value](../put-all.md)&gt;)<br>Puts all the provided [entries](../put-all.md) into this [MutableKeyValueStorage](index.md).<br>[common]<br>suspend fun &lt;[Key](../put-all.md) : [Any](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html), [Value](../put-all.md)&gt; [MutableKeyValueStorage](index.md)&lt;[Key](../put-all.md)&gt;.[putAll](../put-all.md)(vararg pairs: [Pair](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-pair/index.html)&lt;[Key](../put-all.md), [MutableKeyValueStorage.InputValue](-input-value/index.md)&lt;[Value](../put-all.md)&gt;&gt;)<br>Puts all the provided [pairs](../put-all.md) into this [MutableKeyValueStorage](index.md).<br>[common]<br>suspend fun &lt;[Key](../put-all.md) : [Any](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html), [Value](../put-all.md)&gt; [MutableKeyValueStorage](index.md)&lt;[Key](../put-all.md)&gt;.[putAll](../put-all.md)(map: [Map](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/index.html)&lt;[Key](../put-all.md), [MutableKeyValueStorage.InputValue](-input-value/index.md)&lt;[Value](../put-all.md)&gt;&gt;)<br>Puts all the entries from the provided [map](../put-all.md) into this [MutableKeyValueStorage](index.md).<br>[common]<br>suspend fun &lt;[Key](../put-all.md) : [Any](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html), [Value](../put-all.md)&gt; [MutableKeyValueStorage](index.md)&lt;[Key](../put-all.md)&gt;.[putAll](../put-all.md)(sequence: [Sequence](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence/index.html)&lt;[MutableKeyValueStorage.InputEntry](-input-entry/index.md)&lt;[Key](../put-all.md), [Value](../put-all.md)&gt;&gt;)<br>Puts all the provided [sequence](../put-all.md) into this [MutableKeyValueStorage](index.md). |
| [remove](remove.md) | [common]<br>abstract suspend fun [remove](remove.md)(key: [Key](index.md)): [KeyValueStorage.StoredValue](../-key-value-storage/-stored-value/index.md)&lt;*&gt;?<br>Removes the entry with the provided [key](remove.md). |
| [size](../-key-value-storage/size.md) | [common]<br>abstract suspend fun [size](../-key-value-storage/size.md)(): [Long](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)<br>Retrieves the amount of key-value pairs stored in the [KeyValueStorage](../-key-value-storage/index.md). |
| [values](../-key-value-storage/values.md) | [common]<br>open suspend fun [values](../-key-value-storage/values.md)(): [Collection](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-collection/index.html)&lt;[KeyValueStorage.StoredValue](../-key-value-storage/-stored-value/index.md)&lt;*&gt;&gt;<br>Returns a [Collection](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-collection/index.html) of all [StoredValue](../-key-value-storage/-stored-value/index.md)s in this [KeyValueStorage](../-key-value-storage/index.md). Note that the returned [Collection](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-collection/index.html) may return duplicate values. |
